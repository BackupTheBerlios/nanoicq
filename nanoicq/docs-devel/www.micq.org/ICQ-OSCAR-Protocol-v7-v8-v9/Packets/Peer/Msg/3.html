<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- SELECT * FROM PAKETE WHERE byPeer = 1 AND Subcommand = 1 AND Type = 3 -->
<!-- SELECT * FROM PARAMETER WHERE Paket=130 ORDER BY Sort -->
<!-- SELECT * FROM BEISPIELE WHERE Packet=130 -->
<html><!--[if IE]><input type crash><![endif]--><head>
<title>ICQ protocol version 8 - PEER_MSGINIT</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" title="Left" href="../../../style-default.css" type="text/css">
<body> <div id=main>

<table width="100%"><tr>
 <td style="width: 40px" align=left><img src="../../../micq-24.png" alt="*"></td>
 <td><h1 style="text-align: left">PEER_MSGINIT</h1></td>
 <td><h1 style="text-align:right">Channel: 0</h1></td>
</tr></table>

<div></div>

<p>This is an additional packet in the peer-to-peer handshake. It is only used in the message connection, _not_ for file transfer. So it kinda distinguishes what
this connection is for.
It is sent by the originator of the connection after he has acknowledged the peer's <a href="../Init/-1.html">PEER_INIT</a> and by the peer as a reply to the originator's <a href="3.html">PEER_MSGINIT</a>.</p>

<h2>Parameters</h2><table width="100%"><colgroup><col width=\"1*\" span=3><col width=\"7*\"></colgroup>
    <tr>
     <td style="text-decoration: underline">Data type</td>
     <td style="text-decoration: underline">Content</td>
     <td style="text-decoration: underline">Name</td>
     <td style="text-decoration: underline">Description
     </td>
    </tr>
    <tr>
     <td class=id>BYTE</td>
     <td class=id>03</td>
     <td class=id>CMD</td>
     <td>The command: the last connect package.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>0a 00 00 00</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown: 0xa = 10.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>01 00 00 00</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown: 0x1 = 1. Note: sometimes Windows ICQ sends a packet
with rather strange values from here on; this seems to be to test
the connection. If this value isn't 1, disconnect.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>xx xx xx xx</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown. Use 01 00 00 00 = 0x1 = 1 for incoming,
0 for outgoing connections.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>00 00 00 00</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown: empty.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>00 00 00 00</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown: empty.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>xx xx xx xx</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown. Use 01 00 04 00 = 0x40001 for incoming and 0 for outgoing connections.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>00 00 00 00</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown: empty.
     </td>
    </tr>
    <tr>
     <td class=id>DWORD.L</td>
     <td class=id>xx xx xx xx</td>
     <td class=id>UNKNOWN</td>
     <td>Unknown. Use 0 on incoming, but 01 00 04 00 = 0x4001 for outgoing connections.
     </td>
    </tr>
   </table>
<h2>Examples</h2>
<pre>01:48:41 Eingehendes TCP-Paket:
         03 0a 00 00   00 01 00 00 - 00 01 00 00   00 00 00 00   .... .... .... ....
         00 00 00 00   00 01 00 04 - 00 00 00 00   00 00 00 00   .... .... .... ....
         00</pre><hr>
<pre>23:20:56 Incoming TCP packet (6 - m:1126630): PEER_INIT2
         03 0a 00 00   00 eb 03 00 - 00 00 00 00   00 a0 e9 3f   .... .&euml;.. .... . &eacute;?
         37 4f e9 d3   11 bc d2 00 - 04 ac 96 dd   96 01 00 04   7O&eacute;&Oacute; .&frac14;&Ograve;. .&not;.&Yacute; ....
         00                                                      .

</pre>
<h2>Attribution</h2>
<p>Submitted by: tadu@gmx.de.</p>

</div>

<div id=navbar>
 <div class=banner><a href="../../../index.html">OSCAR</a></div>
 <div class=navlinks>
  <a href="../../../Packets.html">generic packets</a>
  <a href="../../Fam1.html">fam 1: service</a>
  <a href="../../Fam2.html">fam 2: location</a>
  <a href="../../Fam3.html">fam 3: contact</a>
  <a href="../../Fam4.html">fam 4: icbm</a>
  <a href="../../Fam9.html">fam 9: bos</a>
  <a href="../../Fam11.html">fam 11: interval</a>
  <a href="../../Fam19.html">fam 19: roster</a>
  <a href="../../Fam21.html">fam 21: old icq</a>
  <a href="../../Fam23.html">fam 23: new user</a>
  <a href="../../Peer.html">peer to peer</a>
  <hr>
<!-- SELECT * FROM PAKETE WHERE byPeer = 1 ORDER BY Channel,Family,Command,Subcommand,Type,Name -->
  <a class=tut href="../Init/-1.html">PEER_INIT</a>
  <a class=tut href="../Init/1.html">PEER_INITACK</a>
  <a class=tut href="PEER_MSG.html">PEER_MSG</a>
  <a class=tut href="PEER_MSG_EXTENDED.html">PEER_MSG_EXTENDED</a>
  <a class=tut href="PEER_MSG_FILE.html">PEER_MSG_FILE</a>
  <a class=tut href="PEER_MSG_MSG.html">PEER_MSG_MSG</a>
  <a class=tut href="3.html">PEER_MSGINIT</a>
  <a class=tut href="../File/0.html">PEER_FILE_INIT</a>
  <a class=tut href="../File/1.html">PEER_FILE_INITACK</a>
  <a class=tut href="../File/2.html">PEER_FILE_START</a>
  <a class=tut href="../File/3.html">PEER_FILE_STARTACK</a>
  <a class=tut href="../File/4.html">PEER_FILE_STOP</a>
  <a class=tut href="../File/5.html">PEER_FILE_SPEED</a>
  <a class=tut href="../File/6.html">PEER_FILE_DATA</a>
 </div>
</div>

<div id=sigbar>
 <span>
  <img src="../../../micq-16.png" alt=icq width=16 height=16>
  <a href="mailto:info@ruediger-kuhlmann.de">R&uuml;diger Kuhlmann</a>
 </span>
</div>
          
</body></html>
